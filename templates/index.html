{% extends "base.html" %}

{% block content %}
{{ section.content | safe }}

{% if config.extra.list_pages %}
{% if paginator %}
{% set pages = paginator.pages | sort(attribute="date") | reverse %}
{% else %}
{% set pages = section.pages | sort(attribute="date") | reverse %}
{% endif %}

<h2>Recent Posts</h2>
<ul class="post-list">
{% for page in pages %}
    <li class="post-item">
        <div class="post-header">
            <a href="{{ page.permalink | safe }}" class="post-title-link">{{ page.title }}</a>
            {% if page.date and not config.extra.no_list_date %}
            <time class="post-date" datetime="{{ page.date }}">{{ page.date }}</time>
            {% endif %}
        </div>
        {% if page.extra.summary %}
        <p class="post-summary">{{ page.extra.summary }}</p>
        {% elif page.description %}
        <p class="post-summary">{{ page.description }}</p>
        {% endif %}
    </li>
{% endfor %}
</ul>
{% if paginator %}
<p>{% if paginator.previous %}<a href="{{ paginator.first }}">&lt;&lt; First</a> <a href="{{ paginator.previous }}">&lt; Previous</a>{% endif %} [{{ paginator.current_index }}/{{ paginator.number_pagers }}] {% if paginator.next %}<a href="{{ paginator.next }}">Next &gt;</a> <a href="{{ paginator.last }}">Last &gt;&gt;</a>{% endif %}</p>
{% endif %}
{% endif %}
{% endblock content %}